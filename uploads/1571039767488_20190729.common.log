2019-07-29 14:49:12.034 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-accounts.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 14:49:12.044 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-broker.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 14:49:12.066 - info:  info: Initializing hook... (`api/hooks/custom`)
2019-07-29 14:49:12.066 - info:  info: Initializing `apianalytics` hook...  (requests to monitored routes will be logged!)
2019-07-29 14:49:12.459 - info:  info: Â·â€¢ Auto-migrating...  (drop)
2019-07-29 14:49:12.946 - info:  info:  âœ“ Auto-migration complete.
2019-07-29 14:49:12.989 - error: error: Failed to lift app: Error: Attempted to `require('/home/fo/openapi/tradingserver/api/controllers/account/get-account-state.js')`, but an error occurred:
--
Error: Cannot find module 'xml2js'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:690:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/fo/openapi/tradingserver/api/common/XmlUtils.js:2:14)
    at Module._compile (internal/modules/cjs/loader.js:776:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:690:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/fo/openapi/tradingserver/api/common/ServiceBusinessHelper.js:3:18)
    at Module._compile (internal/modules/cjs/loader.js:776:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
--
    at /home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:298:25
    at Array.forEach (<anonymous>)
    at _recursivelyIncludeAll (/home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:178:11)
    at /home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:207:33
    at Array.forEach (<anonymous>)
    at _recursivelyIncludeAll (/home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:178:11)
    at includeAll (/home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:317:5)
    at helpBuildDictionary (/home/fo/openapi/tradingserver/node_modules/include-all/lib/help-build-dictionary.js:46:13)
    at Function.module.exports.optional (/home/fo/openapi/tradingserver/node_modules/include-all/index.js:67:10)
    at loadActionModules (/home/fo/openapi/tradingserver/node_modules/sails/lib/app/private/controller/load-action-modules.js:27:14)
    at async.auto.controller (/home/fo/openapi/tradingserver/node_modules/sails/lib/app/load.js:101:9)
    at runTask (/home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1619:13)
    at /home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1559:13
    at processQueue (/home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1569:13)
    at taskComplete (/home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1588:9)
    at /home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1612:17
2019-07-29 14:49:57.718 - warn: [33m warn: [39mIgnoring unexpected property in one of the exits of the helper definition loaded from get-all-accounts.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 14:49:57.725 - warn: [33m warn: [39mIgnoring unexpected property in one of the exits of the helper definition loaded from get-all-broker.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 14:49:57.763 - info: [32m info: [39mInitializing hook... (`api/hooks/custom`)
2019-07-29 14:49:57.764 - info: [32m info: [39mInitializing `apianalytics` hook...  (requests to monitored routes will be logged!)
2019-07-29 14:49:58.179 - info: [32m info: [39m[33m[1mÂ·â€¢ [22m[39m[1mAuto-migrating...[22m[0m  (drop)[0m
2019-07-29 14:49:58.559 - info: [32m info: [39m âœ“ Auto-migration complete.
2019-07-29 14:49:58.587 - error: [31merror: [39mFailed to lift app: Error: Attempted to `require('/home/fo/openapi/tradingserver/api/controllers/account/get-account-state.js')`, but an error occurred:
--
Error: Cannot find module 'xml2js'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:690:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/fo/openapi/tradingserver/api/common/XmlUtils.js:2:14)
    at Module._compile (internal/modules/cjs/loader.js:776:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:690:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at Object.<anonymous> (/home/fo/openapi/tradingserver/api/common/ServiceBusinessHelper.js:3:18)
    at Module._compile (internal/modules/cjs/loader.js:776:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
--
    at /home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:298:25
    at Array.forEach (<anonymous>)
    at _recursivelyIncludeAll (/home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:178:11)
    at /home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:207:33
    at Array.forEach (<anonymous>)
    at _recursivelyIncludeAll (/home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:178:11)
    at includeAll (/home/fo/openapi/tradingserver/node_modules/include-all/lib/help-include-all-sync.js:317:5)
    at helpBuildDictionary (/home/fo/openapi/tradingserver/node_modules/include-all/lib/help-build-dictionary.js:46:13)
    at Function.module.exports.optional (/home/fo/openapi/tradingserver/node_modules/include-all/index.js:67:10)
    at loadActionModules (/home/fo/openapi/tradingserver/node_modules/sails/lib/app/private/controller/load-action-modules.js:27:14)
    at async.auto.controller (/home/fo/openapi/tradingserver/node_modules/sails/lib/app/load.js:101:9)
    at runTask (/home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1619:13)
    at /home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1559:13
    at processQueue (/home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1569:13)
    at taskComplete (/home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1588:9)
    at /home/fo/openapi/tradingserver/node_modules/sails/node_modules/async/dist/async.js:1612:17
2019-07-29 15:14:26.181 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-accounts.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 15:14:26.201 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-broker.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 15:14:26.245 - info:  info: Initializing hook... (`api/hooks/custom`)
2019-07-29 15:14:26.246 - info:  info: Initializing `apianalytics` hook...  (requests to monitored routes will be logged!)
2019-07-29 15:14:26.675 - info:  info: Â·â€¢ Auto-migrating...  (drop)
2019-07-29 15:14:26.901 - info:  info:  âœ“ Auto-migration complete.
2019-07-29 15:14:41.799 - error: error: A hook (`session`) failed to load!
2019-07-29 15:14:41.806 - error: error: Failed to lift app: Error: Took too long to connect to the specified Redis session server.
You can change the allowed connection time by setting the `timeout` input (currently 15000ms).
    at Timeout._onTimeout (/home/fo/openapi/tradingserver/node_modules/machinepack-redis/machines/get-connection.js:166:66)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10)
2019-07-29 15:17:32.593 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-accounts.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 15:17:32.600 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-broker.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 15:17:32.622 - info:  info: Initializing hook... (`api/hooks/custom`)
2019-07-29 15:17:32.623 - info:  info: Initializing `apianalytics` hook...  (requests to monitored routes will be logged!)
2019-07-29 15:17:33.015 - info:  info: Â·â€¢ Auto-migrating...  (drop)
2019-07-29 15:17:33.302 - info:  info:  âœ“ Auto-migration complete.
2019-07-29 15:17:33.459 - info:  info: helpers/get-all-accounts START { pid: '110548/110541', title: undefined }
2019-07-29 15:17:33.460 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_sa.pr_get_all_account',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_sa.pr_get_all_account.no reflogid' } }
2019-07-29 15:17:35.511 - info:  info: callBPS:. bps response 0 
2019-07-29 15:17:35.722 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_sa.pr_get_all_account',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_sa.pr_get_all_account.no reflogid' } }
2019-07-29 15:17:35.844 - info:  info: callBPS:. bps response 0 
2019-07-29 15:17:35.872 - info:  info: helpers/get-allcode START { pid: '110548/110541', title: undefined }
2019-07-29 15:17:35.873 - info:  info: BPSHelper callBPS START action /ExecStatement/execQuerry body { funckey: 'fn_get_deferror',
  bindvar: { ret: { dir: 3003, type: 2004 } } }
2019-07-29 15:17:35.936 - info:  info: callBPS:. bps response 0 Success
2019-07-29 15:17:35.940 - info:  info: BPSHelper callBPS START action /ExecStatement/execQuerry body { funckey: 'fn_get_deferror_fds',
  bindvar: { ret: { dir: 3003, type: 2004 } } }
2019-07-29 15:17:35.969 - info:  info: callBPS:. bps response 0 Success
2019-07-29 15:17:35.982 - info:  info: 
2019-07-29 15:17:35.983 - info:  info:                .-..-.
2019-07-29 15:17:35.983 - info:  info: 
2019-07-29 15:17:35.984 - info:  info:    Sails              <|    .-..-.
2019-07-29 15:17:35.984 - info:  info:    v1.1.0              |\
2019-07-29 15:17:35.984 - info:  info:                       /|.\
2019-07-29 15:17:35.985 - info:  info:                      / || \
2019-07-29 15:17:35.985 - info:  info:                    ,'  |'  \
2019-07-29 15:17:35.985 - info:  info:                 .-'.-==|/_--'
2019-07-29 15:17:35.986 - info:  info:                 `--'-------' 
2019-07-29 15:17:35.986 - info:  info:    __---___--___---___--___---___--___
2019-07-29 15:17:35.987 - info:  info:  ____---___--___---___--___---___--___-__
2019-07-29 15:17:35.987 - info:  info: 
2019-07-29 15:17:35.987 - info:  info: Server lifted in `/home/fo/openapi/tradingserver`
2019-07-29 15:17:35.988 - info:  info: To shut down Sails, press <CTRL> + C at any time.
2019-07-29 15:17:35.989 - info:  info: Read more at https://sailsjs.com/support.
2019-07-29 15:17:35.990 - debug: debug: -------------------------------------------------------
2019-07-29 15:17:35.991 - debug: debug: :: Mon Jul 29 2019 15:17:35 GMT+0700 (Indochina Time)
2019-07-29 15:17:35.992 - debug: debug: Environment : development
2019-07-29 15:17:35.992 - debug: debug: Port        : 1337
2019-07-29 15:17:35.993 - debug: debug: -------------------------------------------------------
2019-07-29 15:33:55.753 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_authapi.pr_getAuthType',
  bindvar:
   { username: '002C111868',
     via: '',
     authtype: { dir: 3003, type: 2001 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_authapi.pr_getAuthType.no reflogid' } }
2019-07-29 15:33:55.808 - info:  info: callBPS:. bps response 0 
2019-07-29 15:33:55.810 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 15:33:55.811 - debug: debug: is-valid-accountid-permission userid undefined accountId undefined req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-info',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: undefined }
2019-07-29 15:33:55.815 - info:  info: account/get-account-info START { pid: '110548/110541',
  title: undefined,
  input: {},
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts',
  username: 'nouser',
  role: 'norole' }
2019-07-29 15:33:55.816 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_account_flags',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     custid: '0001014131',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_account_flags.no reflogid' } }
2019-07-29 15:33:55.886 - info:  info: callBPS:. bps response 0 
2019-07-29 15:33:55.887 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     custid: '0001014131',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_account_flags.no reflogid' } }
2019-07-29 15:33:55.912 - info:  info: callBPS:. bps response 0 
2019-07-29 15:33:55.913 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     custid: '0001014131',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_account_flags.no reflogid' } }
2019-07-29 15:33:55.978 - info:  info: callBPS:. bps response 0 
2019-07-29 15:34:37.527 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope *
2019-07-29 15:34:37.531 - info:  info: instruments/get-quotes START { pid: '110548/110541',
  title: undefined,
  input: { symbols: 'STB' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/quotes?symbols=STB',
  username: 'nouser',
  role: 'norole' }
2019-07-29 15:34:37.532 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_datafeed.pr_get_quotes',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_datafeed.pr_get_quotes.no reflogid' } }
2019-07-29 15:34:37.592 - info:  info: callBPS:. bps response 0 
2019-07-29 15:34:37.596 - info:  info: instruments/get-quotes Load quotes cua DB co so: length = 1767
2019-07-29 15:34:37.603 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_datafeed.pr_get_quotes',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_datafeed.pr_get_quotes.no reflogid' } }
2019-07-29 15:34:37.644 - info:  info: callBPS:. bps response 0 
2019-07-29 15:34:37.644 - info:  info: instruments/get-quotes Load quotes cua DB co so: length = 7
2019-07-29 15:35:19.794 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 15:35:19.795 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 15:35:19.796 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 15:35:19.799 - info:  info: account/get-account-state START { pid: '110548/110541',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 15:35:19.802 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:19.819 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:19.822 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 15:35:19.840 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:19.845 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="15:35:19"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 15:35:19.859 - error: error: ServiceHelper callHostServiceError Error: getaddrinfo ENOTFOUND external_service_addr external_service_addr:1330
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:56:26)
2019-07-29 15:35:19.861 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:19.881 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:23.068 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 15:35:23.069 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 15:35:23.070 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 15:35:23.072 - info:  info: account/get-account-state START { pid: '110548/110541',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 15:35:23.073 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:23.090 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:23.091 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 15:35:23.112 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:23.113 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="15:35:23"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 15:35:23.121 - error: error: ServiceHelper callHostServiceError Error: getaddrinfo ENOTFOUND external_service_addr external_service_addr:1330
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:56:26)
2019-07-29 15:35:23.122 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:23.136 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:33.801 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 15:35:33.802 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 15:35:33.803 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 15:35:33.805 - info:  info: account/get-account-state START { pid: '110548/110541',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 15:35:33.805 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:33.824 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:33.825 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 15:35:33.846 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:33.847 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="15:35:33"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 15:35:33.855 - error: error: ServiceHelper callHostServiceError Error: getaddrinfo ENOTFOUND external_service_addr external_service_addr:1330
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:56:26)
2019-07-29 15:35:33.856 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:33.873 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:58.808 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 15:35:58.809 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 15:35:58.809 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 15:35:58.811 - info:  info: account/get-account-state START { pid: '110548/110541',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 15:35:58.812 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:58.832 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:58.833 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 15:35:58.848 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:58.849 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="15:35:58"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 15:35:58.858 - error: error: ServiceHelper callHostServiceError Error: getaddrinfo ENOTFOUND external_service_addr external_service_addr:1330
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:56:26)
2019-07-29 15:35:58.859 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:58.872 - info:  info: callBPS:. bps response 0 
2019-07-29 15:35:59.972 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 15:35:59.973 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 15:35:59.976 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 15:35:59.978 - info:  info: account/get-account-state START { pid: '110548/110541',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 15:35:59.979 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:35:59.999 - info:  info: callBPS:. bps response 0 
2019-07-29 15:36:00.001 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 15:36:00.024 - info:  info: callBPS:. bps response 0 
2019-07-29 15:36:00.025 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="15:36:0"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 15:36:00.033 - error: error: ServiceHelper callHostServiceError Error: getaddrinfo ENOTFOUND external_service_addr external_service_addr:1330
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:56:26)
2019-07-29 15:36:00.034 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 15:36:00.047 - info:  info: callBPS:. bps response 0 
2019-07-29 16:13:08.208 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:13:08.209 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:13:08.209 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:13:08.211 - info:  info: account/get-account-state START { pid: '110548/110541',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:13:08.212 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:13:08.234 - info:  info: callBPS:. bps response 0 
2019-07-29 16:13:08.235 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:13:08.247 - info:  info: callBPS:. bps response 0 
2019-07-29 16:13:08.248 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:13:8"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:13:08.255 - error: error: ServiceHelper callHostServiceError Error: getaddrinfo ENOTFOUND external_service_addr external_service_addr:1330
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:56:26)
2019-07-29 16:13:08.257 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:13:08.267 - info:  info: callBPS:. bps response 0 
2019-07-29 16:13:09.453 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:13:09.454 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:13:09.454 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:13:09.456 - info:  info: account/get-account-state START { pid: '110548/110541',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:13:09.457 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:13:09.475 - info:  info: callBPS:. bps response 0 
2019-07-29 16:13:09.476 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:13:09.489 - info:  info: callBPS:. bps response 0 
2019-07-29 16:13:09.490 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:13:9"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:13:09.498 - error: error: ServiceHelper callHostServiceError Error: getaddrinfo ENOTFOUND external_service_addr external_service_addr:1330
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:56:26)
2019-07-29 16:13:09.499 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:13:09.514 - info:  info: callBPS:. bps response 0 
2019-07-29 16:19:56.945 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-accounts.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 16:19:56.953 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-broker.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 16:19:56.975 - info:  info: Initializing hook... (`api/hooks/custom`)
2019-07-29 16:19:56.976 - info:  info: Initializing `apianalytics` hook...  (requests to monitored routes will be logged!)
2019-07-29 16:19:57.434 - info:  info: Â·â€¢ Auto-migrating...  (drop)
2019-07-29 16:19:57.726 - info:  info:  âœ“ Auto-migration complete.
2019-07-29 16:19:58.010 - info:  info: helpers/get-all-accounts START { pid: '111478/111471', title: undefined }
2019-07-29 16:19:58.012 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_sa.pr_get_all_account',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_sa.pr_get_all_account.no reflogid' } }
2019-07-29 16:20:00.008 - info:  info: callBPS:. bps response 0 
2019-07-29 16:20:00.250 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_sa.pr_get_all_account',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_sa.pr_get_all_account.no reflogid' } }
2019-07-29 16:20:00.379 - info:  info: callBPS:. bps response 0 
2019-07-29 16:20:00.407 - info:  info: helpers/get-allcode START { pid: '111478/111471', title: undefined }
2019-07-29 16:20:00.408 - info:  info: BPSHelper callBPS START action /ExecStatement/execQuerry body { funckey: 'fn_get_deferror',
  bindvar: { ret: { dir: 3003, type: 2004 } } }
2019-07-29 16:20:00.466 - info:  info: callBPS:. bps response 0 Success
2019-07-29 16:20:00.470 - info:  info: BPSHelper callBPS START action /ExecStatement/execQuerry body { funckey: 'fn_get_deferror_fds',
  bindvar: { ret: { dir: 3003, type: 2004 } } }
2019-07-29 16:20:00.495 - info:  info: callBPS:. bps response 0 Success
2019-07-29 16:20:00.507 - info:  info: 
2019-07-29 16:20:00.508 - info:  info:                .-..-.
2019-07-29 16:20:00.508 - info:  info: 
2019-07-29 16:20:00.509 - info:  info:    Sails              <|    .-..-.
2019-07-29 16:20:00.509 - info:  info:    v1.1.0              |\
2019-07-29 16:20:00.509 - info:  info:                       /|.\
2019-07-29 16:20:00.510 - info:  info:                      / || \
2019-07-29 16:20:00.510 - info:  info:                    ,'  |'  \
2019-07-29 16:20:00.510 - info:  info:                 .-'.-==|/_--'
2019-07-29 16:20:00.511 - info:  info:                 `--'-------' 
2019-07-29 16:20:00.511 - info:  info:    __---___--___---___--___---___--___
2019-07-29 16:20:00.511 - info:  info:  ____---___--___---___--___---___--___-__
2019-07-29 16:20:00.512 - info:  info: 
2019-07-29 16:20:00.512 - info:  info: Server lifted in `/home/fo/openapi/tradingserver`
2019-07-29 16:20:00.512 - info:  info: To shut down Sails, press <CTRL> + C at any time.
2019-07-29 16:20:00.514 - info:  info: Read more at https://sailsjs.com/support.
2019-07-29 16:20:00.514 - debug: debug: -------------------------------------------------------
2019-07-29 16:20:00.515 - debug: debug: :: Mon Jul 29 2019 16:20:00 GMT+0700 (Indochina Time)
2019-07-29 16:20:00.516 - debug: debug: Environment : development
2019-07-29 16:20:00.516 - debug: debug: Port        : 1337
2019-07-29 16:20:00.517 - debug: debug: -------------------------------------------------------
2019-07-29 16:20:39.206 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:20:39.207 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:20:39.208 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:20:39.213 - info:  info: account/get-account-state START { pid: '111478/111471',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:20:39.214 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:20:39.236 - info:  info: callBPS:. bps response 0 
2019-07-29 16:20:39.237 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:20:39.249 - info:  info: callBPS:. bps response 0 
2019-07-29 16:20:39.254 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:20:39"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:20:39.259 - error: error: ServiceHelper callHostServiceError Error: connect ECONNREFUSED 10.21.189.23:1330
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)
2019-07-29 16:20:39.260 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:20:39.273 - info:  info: callBPS:. bps response 0 
2019-07-29 16:20:42.221 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:20:42.222 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:20:42.222 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:20:42.224 - info:  info: account/get-account-state START { pid: '111478/111471',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:20:42.225 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:20:42.242 - info:  info: callBPS:. bps response 0 
2019-07-29 16:20:42.243 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:20:42.259 - info:  info: callBPS:. bps response 0 
2019-07-29 16:20:42.260 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:20:42"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:20:42.263 - error: error: ServiceHelper callHostServiceError Error: connect ECONNREFUSED 10.21.189.23:1330
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)
2019-07-29 16:20:42.264 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:20:42.278 - info:  info: callBPS:. bps response 0 
2019-07-29 16:24:11.669 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-accounts.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 16:24:11.676 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-broker.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 16:24:11.699 - info:  info: Initializing hook... (`api/hooks/custom`)
2019-07-29 16:24:11.699 - info:  info: Initializing `apianalytics` hook...  (requests to monitored routes will be logged!)
2019-07-29 16:24:12.027 - info:  info: Â·â€¢ Auto-migrating...  (drop)
2019-07-29 16:24:12.353 - info:  info:  âœ“ Auto-migration complete.
2019-07-29 16:24:12.627 - info:  info: helpers/get-all-accounts START { pid: '111682/111675', title: undefined }
2019-07-29 16:24:12.629 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_sa.pr_get_all_account',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_sa.pr_get_all_account.no reflogid' } }
2019-07-29 16:24:14.630 - info:  info: callBPS:. bps response 0 
2019-07-29 16:24:14.951 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_sa.pr_get_all_account',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_sa.pr_get_all_account.no reflogid' } }
2019-07-29 16:24:15.018 - info:  info: callBPS:. bps response 0 
2019-07-29 16:24:15.046 - info:  info: helpers/get-allcode START { pid: '111682/111675', title: undefined }
2019-07-29 16:24:15.047 - info:  info: BPSHelper callBPS START action /ExecStatement/execQuerry body { funckey: 'fn_get_deferror',
  bindvar: { ret: { dir: 3003, type: 2004 } } }
2019-07-29 16:24:15.106 - info:  info: callBPS:. bps response 0 Success
2019-07-29 16:24:15.111 - info:  info: BPSHelper callBPS START action /ExecStatement/execQuerry body { funckey: 'fn_get_deferror_fds',
  bindvar: { ret: { dir: 3003, type: 2004 } } }
2019-07-29 16:24:15.131 - info:  info: callBPS:. bps response 0 Success
2019-07-29 16:24:15.147 - info:  info: 
2019-07-29 16:24:15.148 - info:  info:                .-..-.
2019-07-29 16:24:15.148 - info:  info: 
2019-07-29 16:24:15.149 - info:  info:    Sails              <|    .-..-.
2019-07-29 16:24:15.149 - info:  info:    v1.1.0              |\
2019-07-29 16:24:15.149 - info:  info:                       /|.\
2019-07-29 16:24:15.150 - info:  info:                      / || \
2019-07-29 16:24:15.150 - info:  info:                    ,'  |'  \
2019-07-29 16:24:15.151 - info:  info:                 .-'.-==|/_--'
2019-07-29 16:24:15.151 - info:  info:                 `--'-------' 
2019-07-29 16:24:15.151 - info:  info:    __---___--___---___--___---___--___
2019-07-29 16:24:15.152 - info:  info:  ____---___--___---___--___---___--___-__
2019-07-29 16:24:15.152 - info:  info: 
2019-07-29 16:24:15.153 - info:  info: Server lifted in `/home/fo/openapi/tradingserver`
2019-07-29 16:24:15.153 - info:  info: To shut down Sails, press <CTRL> + C at any time.
2019-07-29 16:24:15.154 - info:  info: Read more at https://sailsjs.com/support.
2019-07-29 16:24:15.155 - debug: debug: -------------------------------------------------------
2019-07-29 16:24:15.156 - debug: debug: :: Mon Jul 29 2019 16:24:15 GMT+0700 (Indochina Time)
2019-07-29 16:24:15.157 - debug: debug: Environment : development
2019-07-29 16:24:15.157 - debug: debug: Port        : 1337
2019-07-29 16:24:15.158 - debug: debug: -------------------------------------------------------
2019-07-29 16:24:51.787 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:24:51.788 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:24:51.788 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:24:51.794 - info:  info: account/get-account-state START { pid: '111682/111675',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:24:51.795 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:24:51.816 - info:  info: callBPS:. bps response 0 
2019-07-29 16:24:51.818 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:24:51.834 - info:  info: callBPS:. bps response 0 
2019-07-29 16:24:51.838 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:24:51"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:24:51.843 - error: error: ServiceHelper callHostServiceError Error: connect ECONNREFUSED 10.21.189.110:1330
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)
2019-07-29 16:24:51.845 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:24:51.860 - info:  info: callBPS:. bps response 0 
2019-07-29 16:24:54.353 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:24:54.354 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:24:54.355 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:24:54.357 - info:  info: account/get-account-state START { pid: '111682/111675',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:24:54.358 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:24:54.373 - info:  info: callBPS:. bps response 0 
2019-07-29 16:24:54.374 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:24:54.391 - info:  info: callBPS:. bps response 0 
2019-07-29 16:24:54.393 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:24:54"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:24:54.397 - error: error: ServiceHelper callHostServiceError Error: connect ECONNREFUSED 10.21.189.110:1330
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)
2019-07-29 16:24:54.399 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:24:54.417 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:44.079 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:36:44.080 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:36:44.081 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:36:44.083 - info:  info: account/get-account-state START { pid: '111682/111675',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:36:44.084 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:36:44.101 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:44.102 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:36:44.121 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:44.123 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:36:44"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:36:44.126 - error: error: ServiceHelper callHostServiceError Error: connect ECONNREFUSED 10.21.189.110:1330
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)
2019-07-29 16:36:44.127 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:36:44.141 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:45.374 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:36:45.376 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:36:45.376 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:36:45.378 - info:  info: account/get-account-state START { pid: '111682/111675',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:36:45.379 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:36:45.398 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:45.399 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:36:45.410 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:45.411 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:36:45"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:36:45.414 - error: error: ServiceHelper callHostServiceError Error: connect ECONNREFUSED 10.21.189.110:1330
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)
2019-07-29 16:36:45.415 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:36:45.431 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:46.281 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:36:46.282 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:36:46.283 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:36:46.284 - info:  info: account/get-account-state START { pid: '111682/111675',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:36:46.285 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:36:46.301 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:46.302 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:36:46.317 - info:  info: callBPS:. bps response 0 
2019-07-29 16:36:46.318 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:36:46"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:36:46.322 - error: error: ServiceHelper callHostServiceError Error: connect ECONNREFUSED 10.21.189.110:1330
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1106:14)
2019-07-29 16:36:46.323 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:36:46.335 - info:  info: callBPS:. bps response 0 
2019-07-29 16:40:11.369 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:40:11.370 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:40:11.371 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:40:11.373 - info:  info: account/get-account-state START { pid: '111682/111675',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:40:11.374 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:40:11.387 - info:  info: callBPS:. bps response 0 
2019-07-29 16:40:11.388 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:40:11.402 - info:  info: callBPS:. bps response 0 
2019-07-29 16:40:11.403 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:40:11"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:43:42.545 - error: error: ServiceHelper callHostServiceError Error: read ECONNRESET
    at TCP.onStreamRead (internal/stream_base_commons.js:111:27)
2019-07-29 16:43:42.546 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:43:42.563 - info:  info: callBPS:. bps response 0 
2019-07-29 16:44:12.372 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-accounts.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 16:44:12.380 - warn:  warn: Ignoring unexpected property in one of the exits of the helper definition loaded from get-all-broker.  Features like `responseType`, `viewTemplatePath`, and `statusCode` can only be used by actions, not by helpers!
2019-07-29 16:44:12.401 - info:  info: Initializing hook... (`api/hooks/custom`)
2019-07-29 16:44:12.402 - info:  info: Initializing `apianalytics` hook...  (requests to monitored routes will be logged!)
2019-07-29 16:44:12.813 - info:  info: Â·â€¢ Auto-migrating...  (drop)
2019-07-29 16:44:13.283 - info:  info:  âœ“ Auto-migration complete.
2019-07-29 16:44:13.439 - info:  info: helpers/get-all-accounts START { pid: '112019/112012', title: undefined }
2019-07-29 16:44:13.440 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_sa.pr_get_all_account',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_sa.pr_get_all_account.no reflogid' } }
2019-07-29 16:44:15.423 - info:  info: callBPS:. bps response 0 
2019-07-29 16:44:15.696 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_sa.pr_get_all_account',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_sa.pr_get_all_account.no reflogid' } }
2019-07-29 16:44:15.761 - info:  info: callBPS:. bps response 0 
2019-07-29 16:44:15.789 - info:  info: helpers/get-allcode START { pid: '112019/112012', title: undefined }
2019-07-29 16:44:15.790 - info:  info: BPSHelper callBPS START action /ExecStatement/execQuerry body { funckey: 'fn_get_deferror',
  bindvar: { ret: { dir: 3003, type: 2004 } } }
2019-07-29 16:44:15.848 - info:  info: callBPS:. bps response 0 Success
2019-07-29 16:44:15.852 - info:  info: BPSHelper callBPS START action /ExecStatement/execQuerry body { funckey: 'fn_get_deferror_fds',
  bindvar: { ret: { dir: 3003, type: 2004 } } }
2019-07-29 16:44:15.871 - info:  info: callBPS:. bps response 0 Success
2019-07-29 16:44:15.884 - info:  info: 
2019-07-29 16:44:15.885 - info:  info:                .-..-.
2019-07-29 16:44:15.885 - info:  info: 
2019-07-29 16:44:15.886 - info:  info:    Sails              <|    .-..-.
2019-07-29 16:44:15.886 - info:  info:    v1.1.0              |\
2019-07-29 16:44:15.887 - info:  info:                       /|.\
2019-07-29 16:44:15.887 - info:  info:                      / || \
2019-07-29 16:44:15.887 - info:  info:                    ,'  |'  \
2019-07-29 16:44:15.888 - info:  info:                 .-'.-==|/_--'
2019-07-29 16:44:15.888 - info:  info:                 `--'-------' 
2019-07-29 16:44:15.888 - info:  info:    __---___--___---___--___---___--___
2019-07-29 16:44:15.889 - info:  info:  ____---___--___---___--___---___--___-__
2019-07-29 16:44:15.889 - info:  info: 
2019-07-29 16:44:15.890 - info:  info: Server lifted in `/home/fo/openapi/tradingserver`
2019-07-29 16:44:15.890 - info:  info: To shut down Sails, press <CTRL> + C at any time.
2019-07-29 16:44:15.892 - info:  info: Read more at https://sailsjs.com/support.
2019-07-29 16:44:15.892 - debug: debug: -------------------------------------------------------
2019-07-29 16:44:15.894 - debug: debug: :: Mon Jul 29 2019 16:44:15 GMT+0700 (Indochina Time)
2019-07-29 16:44:15.894 - debug: debug: Environment : development
2019-07-29 16:44:15.894 - debug: debug: Port        : 1337
2019-07-29 16:44:15.895 - debug: debug: -------------------------------------------------------
2019-07-29 16:44:37.475 - debug: debug: is-valid-scope permission_scopes [ 'general' ] request_scope account-read
2019-07-29 16:44:37.476 - debug: debug: is-valid-accountid-permission userid undefined accountId 0001019102 req.options { detectedVerb: { verb: 'all', original: '/*', path: '/*' },
  scope: 'account-read',
  action: 'account/get-account-state',
  _middlewareType: 'CORS HOOK: sendHeaders',
  skipRegex: [ /^[^?]*\/[^?\/]+\.[^?\/]+(\?.*)?$/ ],
  skipAssets: true,
  fn: { [AsyncFunction: fn] _middlewareType: 'CUSTOM HOOK' },
  accountId: '0001019102' }
2019-07-29 16:44:37.477 - debug: debug: is-valid-accountid-permission userid 0001014131 accountArr [ '0001019102', '0001023088' ] accountId 0001019102
2019-07-29 16:44:37.482 - info:  info: account/get-account-state START { pid: '112019/112012',
  title: undefined,
  input: { locale: 'en' },
  remoteIp: '::ffff:10.21.189.10',
  reflogid: undefined,
  action: '/accounts/0001019102/state?locale=en',
  username: 'nouser',
  role: 'norole' }
2019-07-29 16:44:37.483 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_state',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:44:37.506 - info:  info: callBPS:. bps response 0 
2019-07-29 16:44:37.508 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_check_corebank_accounts',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_check_corebank_accounts.no reflogid' } }
2019-07-29 16:44:37.523 - info:  info: callBPS:. bps response 0 
2019-07-29 16:44:37.527 - info:  info: ServiceHelper callHostService START action /BankService/ExecuteMessage message <pv_strMessage><![CDATA[<ObjectMessage><Function FUNCTIONNAME="GETBALANCE" BANKCODE="BIDVHN" WSNAME="WIN-JUFFUA7VSTT" IPADDRESS="::ffff:10.21.189.10" TXDATE="29/06/2019" TXTIME="16:44:37"/><Input><Param NAME="CUSTODYCD" TYPE="System.String">002C111868</Param><Param NAME="CUSTBANKACCTNO" TYPE="System.String">12312000085178</Param><Param NAME="DESCRIPTION" TYPE="System.String">GetBankBalance Code BIDVHN Acct 12312000085178</Param></Input></ObjectMessage>]]></pv_strMessage>
2019-07-29 16:48:07.142 - error: error: ServiceHelper callHostServiceError Error: read ECONNRESET
    at TCP.onStreamRead (internal/stream_base_commons.js:111:27)
2019-07-29 16:48:07.145 - info:  info: BPSHelper callBPS START action /ExecStatement/execProcedure body { funckey: 'fopks_openapi.pr_get_amdata',
  bindvar:
   { ret: { dir: 3003, type: 2004 },
     accountid: '0001019102',
     err_code: { dir: 3002, type: 2001, value: '0' },
     err_msg: { dir: 3003, type: 2001 },
     REFLOGID: 'fopks_openapi.pr_get_state.no reflogid' } }
2019-07-29 16:48:07.173 - info:  info: callBPS:. bps response 0 
